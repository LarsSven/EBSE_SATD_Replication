{
  "url": "https://api.github.com/repos/apache/flink/pulls/7123",
  "id": 231531426,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjMxNTMxNDI2",
  "html_url": "https://github.com/apache/flink/pull/7123",
  "diff_url": "https://github.com/apache/flink/pull/7123.diff",
  "patch_url": "https://github.com/apache/flink/pull/7123.patch",
  "issue_url": "https://api.github.com/repos/apache/flink/issues/7123",
  "number": 7123,
  "state": "closed",
  "locked": false,
  "title": "[FLINK-10865] Add Aliyun OSS file systems without Hadoop dependencies",
  "user": {
    "login": "wujinhu",
    "id": 6348524,
    "node_id": "MDQ6VXNlcjYzNDg1MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6348524?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wujinhu",
    "html_url": "https://github.com/wujinhu",
    "followers_url": "https://api.github.com/users/wujinhu/followers",
    "following_url": "https://api.github.com/users/wujinhu/following{/other_user}",
    "gists_url": "https://api.github.com/users/wujinhu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wujinhu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wujinhu/subscriptions",
    "organizations_url": "https://api.github.com/users/wujinhu/orgs",
    "repos_url": "https://api.github.com/users/wujinhu/repos",
    "events_url": "https://api.github.com/users/wujinhu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wujinhu/received_events",
    "type": "User",
    "site_admin": false
  },
  "body": "\r\n## What is the purpose of the change\r\n\r\nThis PR will add an implementation of a file system that read from & write to Aliyun OSS so that users can use OSS with Flink without depending on Hadoop. In this way, users will find it is more easily to use OSS with Flink now.\r\n\r\nThis implementation wraps **AliyunOSSFileSystem** and shade its dependencies. However, the wrapped jar is not in Flink's lib directory,  users need to copy the jar which built in **opt** directory to **lib** directory.\r\n\r\n\r\n## Brief change log\r\n\r\n- Adds **flink-filesystems/flink-oss-fs-hadoop**\r\n\r\n\r\n## Verifying this change\r\n\r\nThis implementation adds some tests to test instantiation and some reads & writes & lists operations(test communications with Aliyun OSS). However, in order to run these tests, someone need to have his own Aliyun access key id and access key secret. Then, set environment variables below\uff1a\r\n`export ARTIFACTS_OSS_ENDPOINT=<Aliyun OSS endpoint to connect to>`\r\n`export ARTIFACTS_OSS_BUCKET=<Your bucket>`\r\n`export ARTIFACTS_OSS_ACCESS_KEY=<Your access key id>`\r\n`export ARTIFACTS_OSS_SECRET_KEY=<Your access secret>`\r\n\r\nThese tests are skipped by default.\r\n\r\n## Does this pull request potentially affect one of the following parts:\r\n\r\n  - Dependencies (does it add or upgrade a dependency): (**yes** / no)\r\n  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: (yes / **no**)\r\n  - The serializers: (yes / **no** / don't know)\r\n  - The runtime per-record code paths (performance sensitive): (yes / **no** / don't know)\r\n  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (**yes** / no / don't know)\r\n  - The S3 file system connector: (yes / **no** / don't know)\r\n\r\n## Documentation\r\n\r\n  - Does this pull request introduce a new feature? (**yes** / no)\r\n  - If yes, how is the feature documented? (not applicable / **docs** / JavaDocs / not documented)\r\n",
  "created_at": "2018-11-16T13:32:34Z",
  "updated_at": "2019-03-18T19:42:08Z",
  "closed_at": "2018-12-10T10:41:10Z",
  "merged_at": null,
  "merge_commit_sha": "42f9472359724834e086fd5cdb8d5c7a77fe2f8c",
  "assignee": null,
  "assignees": [],
  "requested_reviewers": [],
  "requested_teams": [],
  "labels": [
    {
      "id": 1273335481,
      "node_id": "MDU6TGFiZWwxMjczMzM1NDgx",
      "url": "https://api.github.com/repos/apache/flink/labels/component=Connectors/FileSystem",
      "name": "component=Connectors/FileSystem",
      "color": "175fb7",
      "default": false,
      "description": null
    }
  ],
  "milestone": null,
  "draft": false,
  "commits_url": "https://api.github.com/repos/apache/flink/pulls/7123/commits",
  "review_comments_url": "https://api.github.com/repos/apache/flink/pulls/7123/comments",
  "review_comment_url": "https://api.github.com/repos/apache/flink/pulls/comments{/number}",
  "comments_url": "https://api.github.com/repos/apache/flink/issues/7123/comments",
  "statuses_url": "https://api.github.com/repos/apache/flink/statuses/c34ff44add8e82d766080cf750793adb508f0661",
  "head": {
    "label": "wujinhu:FLINK-10865",
    "ref": "FLINK-10865",
    "sha": "c34ff44add8e82d766080cf750793adb508f0661",
    "user": {
      "login": "wujinhu",
      "id": 6348524,
      "node_id": "MDQ6VXNlcjYzNDg1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6348524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wujinhu",
      "html_url": "https://github.com/wujinhu",
      "followers_url": "https://api.github.com/users/wujinhu/followers",
      "following_url": "https://api.github.com/users/wujinhu/following{/other_user}",
      "gists_url": "https://api.github.com/users/wujinhu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wujinhu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wujinhu/subscriptions",
      "organizations_url": "https://api.github.com/users/wujinhu/orgs",
      "repos_url": "https://api.github.com/users/wujinhu/repos",
      "events_url": "https://api.github.com/users/wujinhu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wujinhu/received_events",
      "type": "User",
      "site_admin": false
    },
    "repo": null
  },
  "base": {
    "label": "apache:master",
    "ref": "master",
    "sha": "eaead200574b9da0b0dd9bb5938330641d6bc154",
    "user": {
      "login": "apache",
      "id": 47359,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ3MzU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/47359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apache",
      "html_url": "https://github.com/apache",
      "followers_url": "https://api.github.com/users/apache/followers",
      "following_url": "https://api.github.com/users/apache/following{/other_user}",
      "gists_url": "https://api.github.com/users/apache/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apache/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apache/subscriptions",
      "organizations_url": "https://api.github.com/users/apache/orgs",
      "repos_url": "https://api.github.com/users/apache/repos",
      "events_url": "https://api.github.com/users/apache/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apache/received_events",
      "type": "Organization",
      "site_admin": false
    },
    "repo": {
      "id": 20587599,
      "node_id": "MDEwOlJlcG9zaXRvcnkyMDU4NzU5OQ==",
      "name": "flink",
      "full_name": "apache/flink",
      "private": false,
      "owner": {
        "login": "apache",
        "id": 47359,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjQ3MzU5",
        "avatar_url": "https://avatars.githubusercontent.com/u/47359?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apache",
        "html_url": "https://github.com/apache",
        "followers_url": "https://api.github.com/users/apache/followers",
        "following_url": "https://api.github.com/users/apache/following{/other_user}",
        "gists_url": "https://api.github.com/users/apache/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/apache/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/apache/subscriptions",
        "organizations_url": "https://api.github.com/users/apache/orgs",
        "repos_url": "https://api.github.com/users/apache/repos",
        "events_url": "https://api.github.com/users/apache/events{/privacy}",
        "received_events_url": "https://api.github.com/users/apache/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "html_url": "https://github.com/apache/flink",
      "description": "Apache Flink",
      "fork": false,
      "url": "https://api.github.com/repos/apache/flink",
      "forks_url": "https://api.github.com/repos/apache/flink/forks",
      "keys_url": "https://api.github.com/repos/apache/flink/keys{/key_id}",
      "collaborators_url": "https://api.github.com/repos/apache/flink/collaborators{/collaborator}",
      "teams_url": "https://api.github.com/repos/apache/flink/teams",
      "hooks_url": "https://api.github.com/repos/apache/flink/hooks",
      "issue_events_url": "https://api.github.com/repos/apache/flink/issues/events{/number}",
      "events_url": "https://api.github.com/repos/apache/flink/events",
      "assignees_url": "https://api.github.com/repos/apache/flink/assignees{/user}",
      "branches_url": "https://api.github.com/repos/apache/flink/branches{/branch}",
      "tags_url": "https://api.github.com/repos/apache/flink/tags",
      "blobs_url": "https://api.github.com/repos/apache/flink/git/blobs{/sha}",
      "git_tags_url": "https://api.github.com/repos/apache/flink/git/tags{/sha}",
      "git_refs_url": "https://api.github.com/repos/apache/flink/git/refs{/sha}",
      "trees_url": "https://api.github.com/repos/apache/flink/git/trees{/sha}",
      "statuses_url": "https://api.github.com/repos/apache/flink/statuses/{sha}",
      "languages_url": "https://api.github.com/repos/apache/flink/languages",
      "stargazers_url": "https://api.github.com/repos/apache/flink/stargazers",
      "contributors_url": "https://api.github.com/repos/apache/flink/contributors",
      "subscribers_url": "https://api.github.com/repos/apache/flink/subscribers",
      "subscription_url": "https://api.github.com/repos/apache/flink/subscription",
      "commits_url": "https://api.github.com/repos/apache/flink/commits{/sha}",
      "git_commits_url": "https://api.github.com/repos/apache/flink/git/commits{/sha}",
      "comments_url": "https://api.github.com/repos/apache/flink/comments{/number}",
      "issue_comment_url": "https://api.github.com/repos/apache/flink/issues/comments{/number}",
      "contents_url": "https://api.github.com/repos/apache/flink/contents/{+path}",
      "compare_url": "https://api.github.com/repos/apache/flink/compare/{base}...{head}",
      "merges_url": "https://api.github.com/repos/apache/flink/merges",
      "archive_url": "https://api.github.com/repos/apache/flink/{archive_format}{/ref}",
      "downloads_url": "https://api.github.com/repos/apache/flink/downloads",
      "issues_url": "https://api.github.com/repos/apache/flink/issues{/number}",
      "pulls_url": "https://api.github.com/repos/apache/flink/pulls{/number}",
      "milestones_url": "https://api.github.com/repos/apache/flink/milestones{/number}",
      "notifications_url": "https://api.github.com/repos/apache/flink/notifications{?since,all,participating}",
      "labels_url": "https://api.github.com/repos/apache/flink/labels{/name}",
      "releases_url": "https://api.github.com/repos/apache/flink/releases{/id}",
      "deployments_url": "https://api.github.com/repos/apache/flink/deployments",
      "created_at": "2014-06-07T07:00:10Z",
      "updated_at": "2022-12-26T19:40:03Z",
      "pushed_at": "2022-12-26T22:52:46Z",
      "git_url": "git://github.com/apache/flink.git",
      "ssh_url": "git@github.com:apache/flink.git",
      "clone_url": "https://github.com/apache/flink.git",
      "svn_url": "https://github.com/apache/flink",
      "homepage": "",
      "size": 482713,
      "stargazers_count": 20359,
      "watchers_count": 20359,
      "language": "Java",
      "has_issues": false,
      "has_projects": false,
      "has_downloads": true,
      "has_wiki": false,
      "has_pages": false,
      "has_discussions": false,
      "forks_count": 11535,
      "mirror_url": null,
      "archived": false,
      "disabled": false,
      "open_issues_count": 953,
      "license": {
        "key": "apache-2.0",
        "name": "Apache License 2.0",
        "spdx_id": "Apache-2.0",
        "url": "https://api.github.com/licenses/apache-2.0",
        "node_id": "MDc6TGljZW5zZTI="
      },
      "allow_forking": true,
      "is_template": false,
      "web_commit_signoff_required": false,
      "topics": [
        "big-data",
        "flink",
        "java",
        "python",
        "scala",
        "sql"
      ],
      "visibility": "public",
      "forks": 11535,
      "open_issues": 953,
      "watchers": 20359,
      "default_branch": "master"
    }
  },
  "_links": {
    "self": {
      "href": "https://api.github.com/repos/apache/flink/pulls/7123"
    },
    "html": {
      "href": "https://github.com/apache/flink/pull/7123"
    },
    "issue": {
      "href": "https://api.github.com/repos/apache/flink/issues/7123"
    },
    "comments": {
      "href": "https://api.github.com/repos/apache/flink/issues/7123/comments"
    },
    "review_comments": {
      "href": "https://api.github.com/repos/apache/flink/pulls/7123/comments"
    },
    "review_comment": {
      "href": "https://api.github.com/repos/apache/flink/pulls/comments{/number}"
    },
    "commits": {
      "href": "https://api.github.com/repos/apache/flink/pulls/7123/commits"
    },
    "statuses": {
      "href": "https://api.github.com/repos/apache/flink/statuses/c34ff44add8e82d766080cf750793adb508f0661"
    }
  },
  "author_association": "CONTRIBUTOR",
  "auto_merge": null,
  "active_lock_reason": null,
  "merged": false,
  "mergeable": null,
  "rebaseable": null,
  "mergeable_state": "unknown",
  "merged_by": null,
  "comments": 11,
  "review_comments": 8,
  "maintainer_can_modify": false,
  "commits": 4,
  "additions": 625,
  "deletions": 0,
  "changed_files": 7
}
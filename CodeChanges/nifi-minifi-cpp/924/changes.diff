diff --git a/LICENSE b/LICENSE
index 59beaf7c51..18bf877fc6 100644
--- a/LICENSE
+++ b/LICENSE
@@ -704,7 +704,9 @@ which under a 3-clause UC Regents copyright as below
  */
 This product bundles librdkafka - Apache Kafka C driver library which is available under license as below.
 
-Copyright (c) 2012, Magnus Edenhill
+librdkafka - Apache Kafka C driver library
+
+Copyright (c) 2012-2020, Magnus Edenhill
 All rights reserved.
 
 Redistribution and use in source and binary forms, with or without
@@ -760,6 +762,149 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 This product bundles rdcrc32.c and rdcrc32.h within librdkafka under the license as below.
 
+LICENSE.crc32c
+--------------------------------------------------------------
+# For src/crc32c.c copied (with modifications) from
+# http://stackoverflow.com/a/17646775/1821055
+
+/* crc32c.c -- compute CRC-32C using the Intel crc32 instruction
+ * Copyright (C) 2013 Mark Adler
+ * Version 1.1  1 Aug 2013  Mark Adler
+ */
+
+/*
+  This software is provided 'as-is', without any express or implied
+  warranty.  In no event will the author be held liable for any damages
+  arising from the use of this software.
+
+  Permission is granted to anyone to use this software for any purpose,
+  including commercial applications, and to alter it and redistribute it
+  freely, subject to the following restrictions:
+
+  1. The origin of this software must not be misrepresented; you must not
+     claim that you wrote the original software. If you use this software
+     in a product, an acknowledgment in the product documentation would be
+     appreciated but is not required.
+  2. Altered source versions must be plainly marked as such, and must not be
+     misrepresented as being the original software.
+  3. This notice may not be removed or altered from any source distribution.
+
+  Mark Adler
+  madler@alumni.caltech.edu
+ */
+
+This product bundles rdfnv1a.c within librdkafka under the license as below.
+
+LICENSE.fnv1a
+--------------------------------------------------------------
+parts of src/rdfnv1a.c: http://www.isthe.com/chongo/src/fnv/hash_32a.c
+
+
+Please do not copyright this code.  This code is in the public domain.
+
+LANDON CURT NOLL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,
+INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO
+EVENT SHALL LANDON CURT NOLL BE LIABLE FOR ANY SPECIAL, INDIRECT OR
+CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF
+USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS SOFTWARE.
+
+By:
+    chongo <Landon Curt Noll> /\oo/\
+    http://www.isthe.com/chongo/
+
+Share and Enjoy!  :-)
+
+This product bundles hdrhistogram within librdkafka under the license as below.
+
+Copyright (c) 2006-2012, Thomas Pircher <tehpeh@gmx.net>
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in
+all copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+THE SOFTWARE.
+
+This product bundles lz4 within librdkafka under the license as below.
+
+LICENSE.lz4
+--------------------------------------------------------------
+src/rdxxhash.[ch] src/lz4*.[ch]: git@github.com:lz4/lz4.git e2827775ee80d2ef985858727575df31fc60f1f3
+
+LZ4 Library
+Copyright (c) 2011-2016, Yann Collet
+All rights reserved.
+
+Redistribution and use in source and binary forms, with or without modification,
+are permitted provided that the following conditions are met:
+
+* Redistributions of source code must retain the above copyright notice, this
+  list of conditions and the following disclaimer.
+
+* Redistributions in binary form must reproduce the above copyright notice, this
+  list of conditions and the following disclaimer in the documentation and/or
+  other materials provided with the distribution.
+
+THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
+ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
+WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
+ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
+(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
+LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
+ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
+SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+
+This product bundles hdrhistogram within murmur2 and MurMurHash2 under the license as below.
+
+LICENSE.murmur2
+--------------------------------------------------------------
+parts of src/rdmurmur2.c: git@github.com:abrandoned/murmur2.git
+
+MurMurHash2 Library
+//-----------------------------------------------------------------------------
+// MurmurHash2 was written by Austin Appleby, and is placed in the public
+// domain. The author hereby disclaims copyright to this source code.
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in all
+copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
+SOFTWARE.
+
+This product bundles pycrc within librdkafka under the license as below.
+LICENSE.pycrc
+--------------------------------------------------------------
+The following license applies to the files rdcrc32.c and rdcrc32.h which
+have been generated by the pycrc tool.
+============================================================================
+
 Copyright (c) 2006-2012, Thomas Pircher <tehpeh@gmx.net>
 
 Permission is hereby granted, free of charge, to any person obtaining a copy
@@ -782,8 +927,12 @@ THE SOFTWARE.
 
 This product bundles sys/queue.h within librdkafka, which under a 3-clause UC Regents copyright as below.
 
+LICENSE.queue
+--------------------------------------------------------------
+For sys/queue.h:
+
  * Copyright (c) 1991, 1993
- *	The Regents of the University of California.  All rights reserved.
+ *  The Regents of the University of California.  All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions
@@ -808,12 +957,29 @@ This product bundles sys/queue.h within librdkafka, which under a 3-clause UC Re
  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
  * SUCH DAMAGE.
+ *
+ *  @(#)queue.h 8.5 (Berkeley) 8/20/94
+ * $FreeBSD$
  
 This product bundles regexp.c and regexp.h within librdkafka offered under a public domain license as below.
 
+LICENSE.regexp
+--------------------------------------------------------------
 These libraries are in the public domain (or the equivalent where that is not possible). You can do anything you want with them. You have no legal obligation to do anything else, although I appreciate attribution.
 
-This product bundles the snappy-c code under the Intel license below.
+regexp.c and regexp.h from https://github.com/ccxvii/minilibs sha 875c33568b5a4aa4fb3dd0c52ea98f7f0e5ca684
+
+This product bundles snappy within librdkafka, under the license below.
+
+LICENSE.snappy
+--------------------------------------------------------------
+######################################################################
+# LICENSE.snappy covers files: snappy.c, snappy.h, snappy_compat.h   #
+# originally retrieved from http://github.com/andikleen/snappy-c     #
+# git revision 8015f2d28739b9a6076ebaa6c53fe27bc238d219              #
+######################################################################
+
+The snappy-c code is under the same license as the original snappy source
 
 Copyright 2011 Intel Corporation All Rights Reserved.
 
@@ -845,6 +1011,13 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 This product bundles tincycthread within librdkafka under the license below.
 
+LICENSE.tinycthread
+--------------------------------------------------------------
+From https://github.com/tinycthread/tinycthread/README.txt c57166cd510ffb5022dd5f127489b131b61441b9
+
+License
+-------
+
 Copyright (c) 2012 Marcus Geelnard
               2013-2014 Evan Nemerson
 
@@ -869,6 +1042,10 @@ freely, subject to the following restrictions:
 
 This product bundles wingetopt.c and wingetopt.h within librdkafka under the licenses below. 
 
+For the files wingetopt.c wingetopt.h downloaded from https://github.com/alex85k/wingetopt
+
+LICENSE.wingetopt
+--------------------------------------------------------------
 /*
  * Copyright (c) 2002 Todd C. Miller <Todd.Miller@courtesan.com>
  *
@@ -916,32 +1093,6 @@ This product bundles wingetopt.c and wingetopt.h within librdkafka under the lic
  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  * POSSIBILITY OF SUCH DAMAGE.
  */
-    
-This product bundles the LZ4 Library within librdkafka under the license below.
-
-Copyright (c) 2011-2016, Yann Collet
-All rights reserved.
-
-Redistribution and use in source and binary forms, with or without modification,
-are permitted provided that the following conditions are met:
-
-* Redistributions of source code must retain the above copyright notice, this
-  list of conditions and the following disclaimer.
-
-* Redistributions in binary form must reproduce the above copyright notice, this
-  list of conditions and the following disclaimer in the documentation and/or
-  other materials provided with the distribution.
-
-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
-ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  
 This product bundles LightPcapNg within PcapPlusPlus under the MIT license below.
 
diff --git a/cmake/BundledLibRdKafka.cmake b/cmake/BundledLibRdKafka.cmake
index ce14c31d88..fe498901ae 100644
--- a/cmake/BundledLibRdKafka.cmake
+++ b/cmake/BundledLibRdKafka.cmake
@@ -16,9 +16,6 @@
 # under the License.
 
 function(use_bundled_librdkafka SOURCE_DIR BINARY_DIR)
-    # Define patch step
-    set(PC "${Patch_EXECUTABLE}" -p1 -i "${SOURCE_DIR}/thirdparty/librdkafka/librdkafka-libressl.patch" && "${Patch_EXECUTABLE}" -p1 -i "${SOURCE_DIR}/thirdparty/librdkafka/librdkafka-macos-timespec.patch")
-
     # Define byproducts
     if(WIN32)
         set(BYPRODUCT "lib/rdkafka.lib")
@@ -44,11 +41,10 @@ function(use_bundled_librdkafka SOURCE_DIR BINARY_DIR)
     # Build project
     ExternalProject_Add(
             kafka-external
-            URL "https://github.com/edenhill/librdkafka/archive/v1.0.1.tar.gz"
-            URL_HASH "SHA256=b2a2defa77c0ef8c508739022a197886e0644bd7bf6179de1b68bdffb02b3550"
+            URL "https://github.com/edenhill/librdkafka/archive/v1.5.0.tar.gz"
+            URL_HASH "SHA256=f7fee59fdbf1286ec23ef0b35b2dfb41031c8727c90ced6435b8cf576f23a656"
             LIST_SEPARATOR % # This is needed for passing semicolon-separated lists
             CMAKE_ARGS ${LIBRDKAFKA_CMAKE_ARGS}
-            PATCH_COMMAND ${PC}
             BUILD_BYPRODUCTS "${BINARY_DIR}/thirdparty/librdkafka-install/${BYPRODUCT}"
             EXCLUDE_FROM_ALL TRUE
     )
@@ -70,4 +66,4 @@ function(use_bundled_librdkafka SOURCE_DIR BINARY_DIR)
     file(MAKE_DIRECTORY ${LIBRDKAFKA_INCLUDE_DIR})
     set_property(TARGET librdkafka APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${LIBRDKAFKA_INCLUDE_DIR})
     set_property(TARGET librdkafka APPEND PROPERTY INTERFACE_COMPILE_DEFINITIONS "LIBRDKAFKA_STATICLIB=1")
-endfunction(use_bundled_librdkafka)
\ No newline at end of file
+endfunction(use_bundled_librdkafka)
diff --git a/msi/LICENSE.txt b/msi/LICENSE.txt
index d762e8f3d5..4e0c84bb61 100644
--- a/msi/LICENSE.txt
+++ b/msi/LICENSE.txt
@@ -728,7 +728,9 @@ which under a 3-clause UC Regents copyright as below
  */
 This product bundles librdkafka - Apache Kafka C driver library which is available under license as below.
 
-Copyright (c) 2012, Magnus Edenhill
+librdkafka - Apache Kafka C driver library
+
+Copyright (c) 2012-2020, Magnus Edenhill
 All rights reserved.
 
 Redistribution and use in source and binary forms, with or without
@@ -784,6 +786,149 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 This product bundles rdcrc32.c and rdcrc32.h within librdkafka under the license as below.
 
+LICENSE.crc32c
+--------------------------------------------------------------
+# For src/crc32c.c copied (with modifications) from
+# http://stackoverflow.com/a/17646775/1821055
+
+/* crc32c.c -- compute CRC-32C using the Intel crc32 instruction
+ * Copyright (C) 2013 Mark Adler
+ * Version 1.1  1 Aug 2013  Mark Adler
+ */
+
+/*
+  This software is provided 'as-is', without any express or implied
+  warranty.  In no event will the author be held liable for any damages
+  arising from the use of this software.
+
+  Permission is granted to anyone to use this software for any purpose,
+  including commercial applications, and to alter it and redistribute it
+  freely, subject to the following restrictions:
+
+  1. The origin of this software must not be misrepresented; you must not
+     claim that you wrote the original software. If you use this software
+     in a product, an acknowledgment in the product documentation would be
+     appreciated but is not required.
+  2. Altered source versions must be plainly marked as such, and must not be
+     misrepresented as being the original software.
+  3. This notice may not be removed or altered from any source distribution.
+
+  Mark Adler
+  madler@alumni.caltech.edu
+ */
+
+This product bundles rdfnv1a.c within librdkafka under the license as below.
+
+LICENSE.fnv1a
+--------------------------------------------------------------
+parts of src/rdfnv1a.c: http://www.isthe.com/chongo/src/fnv/hash_32a.c
+
+
+Please do not copyright this code.  This code is in the public domain.
+
+LANDON CURT NOLL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,
+INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO
+EVENT SHALL LANDON CURT NOLL BE LIABLE FOR ANY SPECIAL, INDIRECT OR
+CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF
+USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
+OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS SOFTWARE.
+
+By:
+    chongo <Landon Curt Noll> /\oo/\
+    http://www.isthe.com/chongo/
+
+Share and Enjoy!  :-)
+
+This product bundles hdrhistogram within librdkafka under the license as below.
+
+Copyright (c) 2006-2012, Thomas Pircher <tehpeh@gmx.net>
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in
+all copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+THE SOFTWARE.
+
+This product bundles lz4 within librdkafka under the license as below.
+
+LICENSE.lz4
+--------------------------------------------------------------
+src/rdxxhash.[ch] src/lz4*.[ch]: git@github.com:lz4/lz4.git e2827775ee80d2ef985858727575df31fc60f1f3
+
+LZ4 Library
+Copyright (c) 2011-2016, Yann Collet
+All rights reserved.
+
+Redistribution and use in source and binary forms, with or without modification,
+are permitted provided that the following conditions are met:
+
+* Redistributions of source code must retain the above copyright notice, this
+  list of conditions and the following disclaimer.
+
+* Redistributions in binary form must reproduce the above copyright notice, this
+  list of conditions and the following disclaimer in the documentation and/or
+  other materials provided with the distribution.
+
+THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
+ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
+WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
+ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
+(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
+LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
+ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
+SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+
+This product bundles hdrhistogram within murmur2 and MurMurHash2 under the license as below.
+
+LICENSE.murmur2
+--------------------------------------------------------------
+parts of src/rdmurmur2.c: git@github.com:abrandoned/murmur2.git
+
+MurMurHash2 Library
+//-----------------------------------------------------------------------------
+// MurmurHash2 was written by Austin Appleby, and is placed in the public
+// domain. The author hereby disclaims copyright to this source code.
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in all
+copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
+SOFTWARE.
+
+This product bundles pycrc within librdkafka under the license as below.
+LICENSE.pycrc
+--------------------------------------------------------------
+The following license applies to the files rdcrc32.c and rdcrc32.h which
+have been generated by the pycrc tool.
+============================================================================
+
 Copyright (c) 2006-2012, Thomas Pircher <tehpeh@gmx.net>
 
 Permission is hereby granted, free of charge, to any person obtaining a copy
@@ -806,8 +951,12 @@ THE SOFTWARE.
 
 This product bundles sys/queue.h within librdkafka, which under a 3-clause UC Regents copyright as below.
 
+LICENSE.queue
+--------------------------------------------------------------
+For sys/queue.h:
+
  * Copyright (c) 1991, 1993
- *	The Regents of the University of California.  All rights reserved.
+ *  The Regents of the University of California.  All rights reserved.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions
@@ -832,12 +981,29 @@ This product bundles sys/queue.h within librdkafka, which under a 3-clause UC Re
  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
  * SUCH DAMAGE.
+ *
+ *  @(#)queue.h 8.5 (Berkeley) 8/20/94
+ * $FreeBSD$
  
 This product bundles regexp.c and regexp.h within librdkafka offered under a public domain license as below.
 
+LICENSE.regexp
+--------------------------------------------------------------
 These libraries are in the public domain (or the equivalent where that is not possible). You can do anything you want with them. You have no legal obligation to do anything else, although I appreciate attribution.
 
-This product bundles the snappy-c code under the Intel license below.
+regexp.c and regexp.h from https://github.com/ccxvii/minilibs sha 875c33568b5a4aa4fb3dd0c52ea98f7f0e5ca684
+
+This product bundles snappy within librdkafka, under the license below.
+
+LICENSE.snappy
+--------------------------------------------------------------
+######################################################################
+# LICENSE.snappy covers files: snappy.c, snappy.h, snappy_compat.h   #
+# originally retrieved from http://github.com/andikleen/snappy-c     #
+# git revision 8015f2d28739b9a6076ebaa6c53fe27bc238d219              #
+######################################################################
+
+The snappy-c code is under the same license as the original snappy source
 
 Copyright 2011 Intel Corporation All Rights Reserved.
 
@@ -869,6 +1035,13 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 This product bundles tincycthread within librdkafka under the license below.
 
+LICENSE.tinycthread
+--------------------------------------------------------------
+From https://github.com/tinycthread/tinycthread/README.txt c57166cd510ffb5022dd5f127489b131b61441b9
+
+License
+-------
+
 Copyright (c) 2012 Marcus Geelnard
               2013-2014 Evan Nemerson
 
@@ -893,6 +1066,10 @@ freely, subject to the following restrictions:
 
 This product bundles wingetopt.c and wingetopt.h within librdkafka under the licenses below. 
 
+For the files wingetopt.c wingetopt.h downloaded from https://github.com/alex85k/wingetopt
+
+LICENSE.wingetopt
+--------------------------------------------------------------
 /*
  * Copyright (c) 2002 Todd C. Miller <Todd.Miller@courtesan.com>
  *
@@ -940,33 +1117,7 @@ This product bundles wingetopt.c and wingetopt.h within librdkafka under the lic
  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  * POSSIBILITY OF SUCH DAMAGE.
  */
-    
-This product bundles the LZ4 Library within librdkafka under the license below.
-
-Copyright (c) 2011-2016, Yann Collet
-All rights reserved.
-
-Redistribution and use in source and binary forms, with or without modification,
-are permitted provided that the following conditions are met:
-
-* Redistributions of source code must retain the above copyright notice, this
-  list of conditions and the following disclaimer.
 
-* Redistributions in binary form must reproduce the above copyright notice, this
-  list of conditions and the following disclaimer in the documentation and/or
-  other materials provided with the distribution.
-
-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
-ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
- 
 This product bundles LightPcapNg within PcapPlusPlus under the MIT license below.
 
 Copyright (c) 2016 Radu Velea, radu.velea@gmail.com
@@ -1630,4 +1781,4 @@ This product bundles 'bsdiff' which is available under a "2-clause BSD" license.
       of your accepting any such warranty or additional liability.
 
    END OF TERMS AND CONDITIONS
- 
\ No newline at end of file
+ 
diff --git a/thirdparty/librdkafka/librdkafka-libressl.patch b/thirdparty/librdkafka/librdkafka-libressl.patch
deleted file mode 100644
index c99a9d9227..0000000000
--- a/thirdparty/librdkafka/librdkafka-libressl.patch
+++ /dev/null
@@ -1,148 +0,0 @@
-diff --git a/src/rdkafka_transport.c b/src/rdkafka_transport.c
-index 9c7fc36c..de083109 100644
---- a/src/rdkafka_transport.c
-+++ b/src/rdkafka_transport.c
-@@ -3,24 +3,24 @@
-  *
-  * Copyright (c) 2015, Magnus Edenhill
-  * All rights reserved.
-- * 
-+ *
-  * Redistribution and use in source and binary forms, with or without
-- * modification, are permitted provided that the following conditions are met: 
-- * 
-+ * modification, are permitted provided that the following conditions are met:
-+ *
-  * 1. Redistributions of source code must retain the above copyright notice,
-- *    this list of conditions and the following disclaimer. 
-+ *    this list of conditions and the following disclaimer.
-  * 2. Redistributions in binary form must reproduce the above copyright notice,
-  *    this list of conditions and the following disclaimer in the documentation
-- *    and/or other materials provided with the distribution. 
-- * 
-+ *    and/or other materials provided with the distribution.
-+ *
-  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
-- * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
-- * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
-- * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
-- * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
-- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
-- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS 
-- * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
-+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
-+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
-+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
-+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
-+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
-+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
-+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
-  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
-  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
-  * POSSIBILITY OF SUCH DAMAGE.
-@@ -433,7 +433,7 @@ static char *rd_kafka_ssl_error (rd_kafka_t *rk, rd_kafka_broker_t *rkb,
- 		else
- 			rd_kafka_log(rk, LOG_ERR, "SSL", "%s", errstr);
- 	}
--	
-+
- 	ERR_error_string_n(l, buf, sizeof(buf));
- 
- 	rd_snprintf(errstr, errstr_size, "%s:%d: %s: %s",
-@@ -443,7 +443,7 @@ static char *rd_kafka_ssl_error (rd_kafka_t *rk, rd_kafka_broker_t *rkb,
- 
-     if (cnt == 0)
-     	    rd_snprintf(errstr, errstr_size, "No error");
--    
-+
-     return errstr;
- }
- 
-@@ -507,7 +507,7 @@ void rd_kafka_transport_ssl_term (void) {
- void rd_kafka_transport_ssl_init (void) {
- #if OPENSSL_VERSION_NUMBER < 0x10100000L
- 	int i;
--	
-+
- 	if (!CRYPTO_get_locking_callback()) {
- 		rd_kafka_ssl_locks_cnt = CRYPTO_num_locks();
- 		rd_kafka_ssl_locks = rd_malloc(rd_kafka_ssl_locks_cnt *
-@@ -736,11 +736,11 @@ static int rd_kafka_transport_ssl_connect (rd_kafka_broker_t *rkb,
- 		return 0;
- 	}
- 
--		
-+
- 	if (rd_kafka_transport_ssl_io_update(rktrans, r,
- 					     errstr, errstr_size) == -1)
- 		return -1;
--	
-+
- 	return 0;
- 
-  fail:
-@@ -863,17 +863,6 @@ int rd_kafka_transport_ssl_ctx_init (rd_kafka_t *rk,
- 	int r;
- 	SSL_CTX *ctx;
- 
--#if OPENSSL_VERSION_NUMBER >= 0x10100000
--        rd_kafka_dbg(rk, SECURITY, "OPENSSL", "Using OpenSSL version %s "
--                     "(0x%lx, librdkafka built with 0x%lx)",
--                     OpenSSL_version(OPENSSL_VERSION),
--                     OpenSSL_version_num(),
--                     OPENSSL_VERSION_NUMBER);
--#else
--        rd_kafka_dbg(rk, SECURITY, "OPENSSL", "librdkafka built with OpenSSL "
--                     "version 0x%lx", OPENSSL_VERSION_NUMBER);
--#endif
--
-         if (errstr_size > 0)
-                 errstr[0] = '\0';
- 
-@@ -945,7 +934,7 @@ int rd_kafka_transport_ssl_ctx_init (rd_kafka_t *rk,
- 			     "Loading CA certificate(s) from %s %s",
- 			     is_dir ? "directory":"file",
- 			     rk->rk_conf.ssl.ca_location);
--		
-+
- 		r = SSL_CTX_load_verify_locations(ctx,
- 						  !is_dir ?
- 						  rk->rk_conf.ssl.
-@@ -1034,8 +1023,8 @@ int rd_kafka_transport_ssl_ctx_init (rd_kafka_t *rk,
- 
- 		if (!(fp = fopen(rk->rk_conf.ssl.keystore_location, "rb"))) {
- 			rd_snprintf(errstr, errstr_size,
--				    "Failed to open ssl.keystore.location: %s: %s", 
--				    rk->rk_conf.ssl.keystore_location, 
-+				    "Failed to open ssl.keystore.location: %s: %s",
-+				    rk->rk_conf.ssl.keystore_location,
- 				    rd_strerror(errno));
- 			goto fail;
- 		}
-@@ -1495,7 +1484,7 @@ static void rd_kafka_transport_io_event (rd_kafka_transport_t *rktrans,
- /**
-  * Poll and serve IOs
-  *
-- * Locality: broker thread 
-+ * Locality: broker thread
-  */
- void rd_kafka_transport_io_serve (rd_kafka_transport_t *rktrans,
-                                   int timeout_ms) {
-@@ -1545,7 +1534,7 @@ rd_kafka_transport_t *rd_kafka_transport_connect (rd_kafka_broker_t *rkb,
- 
- #ifdef SO_NOSIGPIPE
- 	/* Disable SIGPIPE signalling for this socket on OSX */
--	if (setsockopt(s, SOL_SOCKET, SO_NOSIGPIPE, &on, sizeof(on)) == -1) 
-+	if (setsockopt(s, SOL_SOCKET, SO_NOSIGPIPE, &on, sizeof(on)) == -1)
- 		rd_rkb_dbg(rkb, BROKER, "SOCKET",
- 			   "Failed to set SO_NOSIGPIPE: %s",
- 			   socket_strerror(socket_errno));
-@@ -1709,7 +1698,7 @@ void rd_kafka_transport_term (void) {
- #endif
- }
- #endif
-- 
-+
- void rd_kafka_transport_init(void) {
- #ifdef _MSC_VER
- 	WSADATA d;
diff --git a/thirdparty/librdkafka/librdkafka-macos-timespec.patch b/thirdparty/librdkafka/librdkafka-macos-timespec.patch
deleted file mode 100644
index fd31765c56..0000000000
--- a/thirdparty/librdkafka/librdkafka-macos-timespec.patch
+++ /dev/null
@@ -1,18 +0,0 @@
-diff --git a/src/rdtime.h b/src/rdtime.h
-index 04144227..0ccc8312 100644
---- a/src/rdtime.h
-+++ b/src/rdtime.h
-@@ -169,7 +169,13 @@ static RD_INLINE void rd_timeout_init_timespec (struct timespec *tspec,
-                 tspec->tv_sec = timeout_ms;
-                 tspec->tv_nsec = 0;
-         } else {
-+#ifdef __APPLE__
-+                struct timeval tv;
-+                gettimeofday(&tv, NULL);
-+                TIMEVAL_TO_TIMESPEC(&tv, tspec);
-+#else
-                 timespec_get(tspec, TIME_UTC);
-+#endif
-                 tspec->tv_sec  += timeout_ms / 1000;
-                 tspec->tv_nsec += (timeout_ms % 1000) * 1000000;
-                 if (tspec->tv_nsec >= 1000000000) {
